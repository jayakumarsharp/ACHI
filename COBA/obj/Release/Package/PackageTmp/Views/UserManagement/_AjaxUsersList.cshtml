@using MvcPaging
@model IPagedList<CRUserManagement.Models.UserDetails>

<table class="table table-striped table-hover ">
    <thead>
        <tr>
            <th class="table-col-max tduser">EmpCode</th>
            <th class="table-col-max tduser">EmpName</th>
            <th class="table-col-max tduser">EmailID</th>
            <th class="table-col-max tduser">ContactNo</th>
            <th class="table-col-max tduser">UserType</th>
            <th class="table-col-max tduser">Manager</th>
            <th class="table-col-max tduser">HOD</th>
            <th class="table-col-max tduser">Role</th>
            <th class="table-col-max tduser">Team</th>
            <th class="table-col-min" title="Active"><span class="glyphicon glyphicon-ok  white"></span></th>
            <th class="table-col-min-edit" title="Edit"><span class="glyphicon glyphicon-edit white"></span></th>
            <th class="table-col-min-del glyphicon-tree-structure" title="TreeView"></th>
            <th class="table-col-min-del" title="Delete"><span class="fa fa-trash-o white"></span></th>

        </tr>
    </thead>
    <tbody>
        @if (Model != null)
        {
            foreach (var item in Model)
            {
                var jsonSerialiser = new System.Web.Script.Serialization.JavaScriptSerializer();
            <tr>
                <td class="hidden">@item.ID</td>
                <td class="table-col-max tduser">@item.EmpCode</td>
                <td class="table-col-max tduser">@item.EmpName</td>
                <td class="table-col-max tduser">@item.Email</td>
                <td class="table-col-max tduser">@item.ContactNo</td>
                <td class="table-col-max tduser">@item.UserType</td>
                <td class="table-col-max tduser">@item.ManagerName</td>
                <td class="table-col-max tduser">@item.HODname</td>
                <td class="table-col-max tduser">@item.Rolename</td>
                <td class="table-col-max tduser">@item.Teamname</td>
                @if (item.Status == 1)
                {
                    <td class="pointer table-col-min-del">N </td>
                }
                else
                {
                    <td class="pointer table-col-min-del">Y </td>
                }
                <td class="pointer table-col-min-edit"><a class="useredit" data-id="@item.ID" data-toggle="modal" href="#edit-modal"><span class="glyphicon glyphicon-pencil"></span></a></td>
                <td class="pointer table-col-min-edit"><a class="userhieredit" data-id="@item.ID" data-ecode="@item.EmpCode" data-ehname="@item.EmpName" data-toggle="modal" href="#hier-modal"><span class="glyphicon glyphicon-edit"></span></a></td>
                <td class="pointer table-col-min-del"><a class="delete" data-id="@item.ID" data-status="@item.Status" ><span class="glyphicon glyphicon-remove"></span></a></td>
            </tr>               
            }
        }
    </tbody>
</table>
@if (Model != null)
{
    <div class="pull-right">

        @Html.Raw(Ajax.Pager(
            new Options
            {
                PageSize = Model.PageSize,
                TotalItemCount = Model.TotalItemCount,
                CurrentPage = Model.PageNumber,
                ItemIcon = new ItemIcon() { First = "icon-backward", Previous = "icon-chevron-left", Next = "icon-chevron-right", Last = "icon-forward" },
                TooltipTitles = new TooltipTitles() { Next = "Next page", Previous = "Previous page", Page = "Page {0}." },
                Size = Size.normal,
                Alignment = Alignment.centered,
                IsShowControls = true,
                IsShowFirstLast = true,
                CssClass = ""
            },
            new AjaxOptions
            {
                HttpMethod = "Get",
                UpdateTargetId = "grid-list",
                OnBegin = "beginPaging",
                OnSuccess = "successPaging",
                OnFailure = "failurePaging"
            }, new { controller = "UserManagement", action = "Index" }))
    </div>
    <text>Showing</text> <span class="badge badge-success">
        @if (Model.ItemEnd == 0)
        {
            @("0");
        }
        else
        {
            @Model.ItemStart;
        }</span><text> to</text> <span class="badge badge-success">@Model.ItemEnd</span>
    <text> of</text> <span class="badge badge-info">@Model.TotalItemCount</span>
    <text>entries</text>

}
<style type="text/css">
    .tduser {
        width: 30%;
    }

    .glyphicon-tree-structure {
        background: url("../img/tree.png");
        background-repeat: no-repeat;
        background-position: center;
    }
</style>
